(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{54722:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return t(18884)}])},18884:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var a=t(85893),s=t(57712),r=t(13403),i=t(26725),l=t(51244),c=t(453),o=t(82175),d=t(41664),u=t.n(d),m=t(11163);t(67294);var h={src:"/_next/static/media/logob2.43333985.png",height:58,width:256,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAASklEQVR4nGN88eLFtL9//y38/fuXIhMTk9q/f/+/MjEx/vn/n+HH////xRmfP39xFSix+seP7yfY2dl1GRgYfzAw/BcBKmQEAj4AKOAiaN1nYRYAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},f=t(25675),p=t.n(f),g=t(33299);let x=()=>{let e=(0,m.useRouter)(),{isAuthenticated:n,login:t,logout:d}=(0,s.aC)(),{data:f,status:x}=(0,g.useSession)(),b=async n=>{try{let a=await (0,r.R)(n);a.user&&(localStorage.setItem("_user",JSON.stringify(a.user)),localStorage.setItem("_token",a.token),console.log(a),(0,i.h4)("success","Bienvenid@ "+a.user.name),e.push("/home"),t())}catch(e){console.error(e)}};if("authenticated"===x&&f){var v,j,N;let e={name:null===(v=f.user)||void 0===v?void 0:v.name,email:null===(j=f.user)||void 0===j?void 0:j.email,password:((null==f?void 0:null===(N=f.user)||void 0===N?void 0:N.name)||"")+i.mv};setTimeout(()=>{b(e)},2e3)}return(0,a.jsx)("section",{id:"content",className:"content",children:(0,a.jsx)("div",{className:"content__boxed w-100 min-vh-100 d-flex flex-column align-items-center justify-content-center login-image",children:(0,a.jsxs)("div",{className:"content__wrap",children:[(0,a.jsx)("div",{className:"d-flex align-items-center justify-content-center gap-3 mb-3",children:(0,a.jsx)(p(),{src:h,alt:"Nifty Logo",width:150})}),(0,a.jsx)("div",{className:"card shadow-lg",style:{minWidth:"250px"},children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"font",children:"Registrarse"}),(0,a.jsx)("p",{children:"Crea una cuenta"})]}),(0,a.jsx)(o.J9,{initialValues:l.m,validationSchema:c.g,onSubmit:b,children:e=>(0,a.jsxs)("form",{className:"mt-4",onSubmit:e.handleSubmit,children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("input",{type:"text",className:"form-control",name:"name",value:e.values.name,onChange:e.handleChange,placeholder:"Nombre(s)"})}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("input",{type:"email",className:"form-control",name:"email",value:e.values.email,onChange:e.handleChange,placeholder:"Email"})}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("input",{type:"password",name:"password",value:e.values.password,onChange:e.handleChange,className:"form-control",placeholder:"Contrase\xf1a"})}),(0,a.jsx)("div",{className:"d-grid mt-5",children:(0,a.jsx)("button",{className:"btn btn-primary btn-lg",type:"submit",children:"Crear cuenta"})})]})}),(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between border-top pt-3 mt-3",children:[(0,a.jsx)("h5",{className:"m-0 font",children:"Reg\xedstrate con"}),(0,a.jsxs)("div",{className:"ms-3",children:[(0,a.jsx)("a",{href:"#",className:"btn btn-sm btn-icon btn-hover btn-primary text-inherit",children:(0,a.jsx)("i",{className:"psi-facebook fs-5"})}),(0,a.jsx)("a",{href:"#",onClick:()=>(0,g.signIn)("google"),className:"btn btn-sm btn-icon btn-hover btn-danger text-inherit",children:(0,a.jsx)("i",{className:"psi-google-plus fs-5"})})]})]})]})}),(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-3 mt-4",children:[(0,a.jsx)(u(),{href:"/",className:"btn btn-primary",children:"Ir a inicio"}),(0,a.jsx)(u(),{href:"/",className:"btn btn-secondary",children:"Iniciar sesi\xf3n"})]})]})})})};var b=x},13403:function(e,n,t){"use strict";t.d(n,{R:function(){return i},i:function(){return r}});var a=t(9234);let s="auth";async function r(e){let n=await a.Z.post(s+"/login",e);return n.data}async function i(e){let n=await a.Z.post(s+"/register-public",e);return n.data}},9234:function(e,n,t){"use strict";t.d(n,{D:function(){return i}});var a=t(6154),s=t(26725);let r=a.Z.create({baseURL:s.CC,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(function(e){{let n=localStorage.getItem("_token");return n&&(e.headers.Authorization="Bearer ".concat(n)),e}},function(e){return console.log("error"),Promise.reject(e)});let i=a.Z.create({baseURL:s.CC,headers:{"Content-Type":"multipart/form-data"}});i.interceptors.request.use(function(e){let n=localStorage.getItem("_token");return e.headers["Content-Type"]="multipart/form-data",n&&(e.headers["Content-Type"]="multipart/form-data",e.headers.Authorization="Bearer ".concat(n)),e},function(e){return Promise.reject(e)}),n.Z=r},51244:function(e,n,t){"use strict";t.d(n,{m:function(){return s},z:function(){return a}});let a={email:"",password:""},s={name:"",email:"",password:""}},453:function(e,n,t){"use strict";t.d(n,{d:function(){return s},g:function(){return r}});var a=t(16310);let s=a.Ry({email:a.Z_().email("Invalid email address").required("Required"),password:a.Z_().required("Required")}),r=a.Ry({name:a.Z_().required("Required"),email:a.Z_().email("Invalid email address").required("Required"),password:a.Z_().required("Required")})}},function(e){e.O(0,[664,873,376,774,888,179],function(){return e(e.s=54722)}),_N_E=e.O()}]);