(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[782],{53352:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/companies",function(){return r(59144)}])},52627:function(e,a,r){"use strict";var t=r(85893);r(67294);var n=r(37690),i=r(48678),s=r(98396);let l=e=>{let{data:a,columns:r,buttons:l}=e,o=(0,i.Z)();return(0,s.Z)(o.breakpoints.only("xs")),(0,s.Z)(o.breakpoints.down("sm")),(0,s.Z)(o.breakpoints.only("md")),(0,s.Z)(o.breakpoints.only("lg")),(0,s.Z)(o.breakpoints.only("xl")),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{style:{width:"100%"},children:(0,t.jsx)(n.ZP,{title:"",data:a,columns:r,options:{textLabels:{body:{noMatch:"No se encontr\xf3 informaci\xf3n",toolTip:"Ordenar"},pagination:{next:"Siguiente",previous:"Anterior",rowsPerPage:"Filas por p\xe1gina:",displayRows:"de"},toolbar:{search:"Buscar",downloadCsv:"Descargar CSV",print:"Imprimir",viewColumns:"Vista de columnas",filterTable:"Filtro"},filter:{all:"Todos",title:"Filtros",reset:"Reestablecer"},viewColumns:{title:"Mostrar Columnas",titleAria:"Mostrar/Ocultar Columnas de tabla"},selectedRows:{text:"Filas seleccionadas",delete:"Borrar",deleteAria:"Borrar columnas seleccionadas"}},elevation:0,responsive:"simple",customToolbar:()=>(0,t.jsx)(t.Fragment,{children:l}),selectableRowsHideCheckboxes:!0}})})})};a.Z=l},59144:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return N}});var t=r(85893),n=r(67294),i=r(52972),s=r(5235),l=r(42992),o=r(23972),c=r(8364),d=r(5863),u=r(75071),m=r(41687),h=r(52627),p=r(26725),x=r(37663),f=r(82175),b=r(16310),j=r(50657),v=r(37645),g=r(6514),Z=r(18571),y=r(31425),_=r(5336);let C=e=>{let{type:a,carrer:r,updateTable:n,open:i,handleClose:s}=e,o=b.Ry().shape({name:b.Z_().required("Nombre es requerido"),picture:b.Z_().url("URL de imagen inv\xe1lida"),description:b.Z_().required("Descripci\xf3n es requerida"),address:b.Z_().required("Direcci\xf3n es requerida"),phone:b.Z_().required("Tel\xe9fono es requerido"),email:b.Z_().email("Email inv\xe1lido").required("Email es requerido")}),c=async(e,t)=>{let i={...e,id:r?r.id:null};try{"create"===a&&(delete i.id,await (0,_.e5)(i),(0,p.h4)("success","Se ha creado exitosamente")),"edit"===a&&(delete i.id,await (0,_.j1)(r.id,i),(0,p.h4)("success","Se ha actualizado")),n(),s()}catch(e){(0,p.h4)("error","Ha sucedido un error")}};return(0,t.jsx)("div",{children:(0,t.jsxs)(j.Z,{open:i,onClose:s,maxWidth:"md",fullWidth:!0,children:[(0,t.jsx)(v.Z,{children:"Compa\xf1ia"}),(0,t.jsx)(f.J9,{initialValues:{name:(null==r?void 0:r.name)||"",picture:(null==r?void 0:r.picture)||"",description:(null==r?void 0:r.description)||"",address:(null==r?void 0:r.address)||"",phone:(null==r?void 0:r.phone)||"",email:(null==r?void 0:r.email)||""},validationSchema:o,onSubmit:c,children:e=>{let{isSubmitting:a,errors:r,touched:n,handleChange:i,values:s}=e;return(0,t.jsxs)(f.l0,{children:[(0,t.jsxs)(g.Z,{children:[(0,t.jsx)(f.gN,{as:Z.Z,disabled:!1,name:"name",label:"Nombre",fullWidth:!0,variant:"outlined",margin:"normal",helperText:n.name&&r.name?(0,t.jsx)(f.Bc,{name:"name"}):"",error:!!n.name&&!!r.name,onChange:i}),(0,t.jsx)(f.gN,{as:Z.Z,disabled:!1,name:"picture",label:"URL de la imagen",fullWidth:!0,variant:"outlined",margin:"normal",helperText:n.picture&&r.picture?(0,t.jsx)(f.Bc,{name:"picture"}):"",error:!!n.picture&&!!r.picture,onChange:i}),(0,t.jsx)(f.gN,{as:Z.Z,disabled:!1,name:"description",label:"Descripci\xf3n",fullWidth:!0,variant:"outlined",margin:"normal",helperText:n.description&&r.description?(0,t.jsx)(f.Bc,{name:"description"}):"",error:!!n.description&&!!r.description,onChange:i}),(0,t.jsx)(f.gN,{as:Z.Z,disabled:!1,name:"address",label:"Direcci\xf3n",fullWidth:!0,variant:"outlined",margin:"normal",helperText:n.address&&r.address?(0,t.jsx)(f.Bc,{name:"address"}):"",error:!!n.address&&!!r.address,onChange:i}),(0,t.jsx)(f.gN,{as:Z.Z,disabled:!1,name:"phone",label:"Tel\xe9fono",fullWidth:!0,variant:"outlined",margin:"normal",helperText:n.phone&&r.phone?(0,t.jsx)(f.Bc,{name:"phone"}):"",error:!!n.phone&&!!r.phone,onChange:i}),(0,t.jsx)(f.gN,{as:Z.Z,disabled:!1,name:"email",label:"Email",fullWidth:!0,variant:"outlined",margin:"normal",helperText:n.email&&r.email?(0,t.jsx)(f.Bc,{name:"email"}):"",error:!!n.email&&!!r.email,onChange:i})]}),(0,t.jsxs)(y.Z,{children:[(0,t.jsx)(l.Z,{type:"button",color:"primary",children:"Cancelar"}),(0,t.jsx)(l.Z,{type:"submit",color:"primary",disabled:a,children:"Guardar"})]})]})}})]})})},w=()=>{let[e,a]=(0,n.useState)([]),[r,s]=(0,n.useState)(!1),[f,b]=(0,n.useState)(),[j,v]=(0,n.useState)(""),[g,Z]=(0,n.useState)(""),y=()=>{s(!0)},w=()=>{s(!1)},N=async()=>{v("create"),b(null),y()},T=async e=>{v("view"),b(e),y()},k=async e=>{v("edit"),b(e),y()},S=async e=>{let a=e.id;try{await (0,x.A1)(a),q(),(0,p.h4)("success","Se ha eliminado")}catch(e){(0,p.h4)("success","Error al eliminar")}};(0,n.useEffect)(()=>{q()},[]);let q=async()=>{let{data:e,state:r,error:t}=await (0,_.r7)();r?a(e.data):(a([]),Z(t.message))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{children:(0,t.jsx)("div",{className:"content__header content__boxed overlapping",children:(0,t.jsx)("div",{className:"content__wrap",children:(0,t.jsx)("div",{className:"content__header content__boxed overlapping",children:(0,t.jsxs)("div",{className:"content__wrap",children:[(0,t.jsx)("nav",{"aria-label":"breadcrumb",children:(0,t.jsx)("ol",{className:"mb-0",style:{margin:0,padding:0},children:(0,t.jsx)("li",{className:"breadcrumb-item active font",style:{listStyle:"none"},"aria-current":"page",children:(0,t.jsx)(o.Z,{sx:{fontWeight:"bolder"},mb:1,children:"Compa\xf1ias"})})})}),(0,t.jsx)("div",{className:"content__boxed",children:(0,t.jsx)("div",{className:"card",children:(0,t.jsx)("div",{className:"card-body flex-fill ms-md-4",children:(0,t.jsx)(h.Z,{data:e,columns:[{name:"name",label:"Nombre"},{name:"description",label:"Descripci\xf3n"},{name:"email",label:"Email"},{name:"Acciones",Label:"Acciones",options:{customBodyRenderLite:a=>{let r=e[a];return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"d-flex gap-3",children:[(0,t.jsx)(l.Z,{variant:"text",color:"primary",onClick:()=>k(r),children:(0,t.jsx)(u.Z,{})}),(0,t.jsx)(l.Z,{variant:"text",color:"primary",onClick:()=>T(r),children:(0,t.jsx)(d.Z,{})}),(0,t.jsx)(l.Z,{color:"error",onClick:()=>S(r),children:(0,t.jsx)(c.Z,{})})]})})}}}],buttons:(0,t.jsx)(l.Z,{variant:"contained",color:"primary",className:"ms-2",onClick:N,children:(0,t.jsx)(m.Z,{})})})})})})]})})})})}),(0,t.jsx)(C,{type:j,carrer:f,updateTable:q,open:r,handleClose:w})]})};var N=(0,s.default)(w)},37663:function(e,a,r){"use strict";r.d(a,{A1:function(){return s},Im:function(){return i}});var t=r(9234);let n="/licenciatura";async function i(){try{let e=await t.Z.get(n+"/");return{state:!0,data:e.data,error:""}}catch(e){return{state:!1,data:[],error:e}}}async function s(e){try{let a=await t.Z.delete(n+"/"+e);return{state:!0,data:a,error:""}}catch(e){return{state:!1,data:[],error:e}}}},5336:function(e,a,r){"use strict";r.d(a,{e5:function(){return s},j1:function(){return l},r7:function(){return i}});var t=r(9234);let n="/company";async function i(){try{let e=await t.Z.get(n+"/");return{state:!0,data:e.data,error:""}}catch(e){return{state:!1,data:[],error:e}}}async function s(e){try{let a=await t.Z.post(n+"/",e);return{state:!0,data:a,error:""}}catch(e){return{state:!1,data:[],error:e}}}async function l(e,a){try{let r=await t.Z.patch(n+"/"+e,a);return{state:!0,data:r,error:""}}catch(e){return{state:!1,data:[],error:e}}}},9234:function(e,a,r){"use strict";r.d(a,{D:function(){return s}});var t=r(6154),n=r(26725);let i=t.Z.create({baseURL:n.CC,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(function(e){{let a=localStorage.getItem("_token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}},function(e){return console.log("error"),Promise.reject(e)});let s=t.Z.create({baseURL:n.CC,headers:{"Content-Type":"multipart/form-data"}});s.interceptors.request.use(function(e){let a=localStorage.getItem("_token");return e.headers["Content-Type"]="multipart/form-data",a&&(e.headers["Content-Type"]="multipart/form-data",e.headers.Authorization="Bearer ".concat(a)),e},function(e){return Promise.reject(e)}),a.Z=i}},function(e){e.O(0,[664,873,376,672,95,542,44,254,774,888,179],function(){return e(e.s=53352)}),_N_E=e.O()}]);