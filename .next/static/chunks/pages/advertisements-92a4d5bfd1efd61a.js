(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14],{97382:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/advertisements",function(){return a(75223)}])},52627:function(e,t,a){"use strict";var n=a(85893);a(67294);var r=a(37690),i=a(48678),s=a(98396);let l=e=>{let{data:t,columns:a,buttons:l}=e,o=(0,i.Z)();return(0,s.Z)(o.breakpoints.only("xs")),(0,s.Z)(o.breakpoints.down("sm")),(0,s.Z)(o.breakpoints.only("md")),(0,s.Z)(o.breakpoints.only("lg")),(0,s.Z)(o.breakpoints.only("xl")),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:{width:"100%"},children:(0,n.jsx)(r.ZP,{title:"",data:t,columns:a,options:{textLabels:{body:{noMatch:"No se encontr\xf3 informaci\xf3n",toolTip:"Ordenar"},pagination:{next:"Siguiente",previous:"Anterior",rowsPerPage:"Filas por p\xe1gina:",displayRows:"de"},toolbar:{search:"Buscar",downloadCsv:"Descargar CSV",print:"Imprimir",viewColumns:"Vista de columnas",filterTable:"Filtro"},filter:{all:"Todos",title:"Filtros",reset:"Reestablecer"},viewColumns:{title:"Mostrar Columnas",titleAria:"Mostrar/Ocultar Columnas de tabla"},selectedRows:{text:"Filas seleccionadas",delete:"Borrar",deleteAria:"Borrar columnas seleccionadas"}},elevation:0,responsive:"simple",customToolbar:()=>(0,n.jsx)(n.Fragment,{children:l}),selectableRowsHideCheckboxes:!0}})})})};t.Z=l},75223:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return F}});var n=a(85893),r=a(67294),i=a(52972),s=a(5235),l=a(42992),o=a(23972),c=a(82175),d=a(16310),u=a(50657),m=a(37645),h=a(6514),x=a(18571),p=a(48263),f=a(31425),j=a(26725);a(37663);var v=a(9234);async function y(e){try{let t=await v.D.post("/s3/",e);return{state:!0,data:t.data,error:""}}catch(e){return{state:!1,data:[],error:e}}}let g="/advertisement";async function b(){try{let e=await v.Z.get(g+"/");return{state:!0,data:e.data,error:""}}catch(e){return{state:!1,data:[],error:e}}}async function Z(e){try{let t=await v.Z.post(g+"/",e);return{state:!0,data:t,error:""}}catch(e){return{state:!1,data:[],error:e}}}async function w(e,t){try{let a=await v.Z.patch(g+"/"+e,t);return{state:!0,data:a,error:""}}catch(e){return{state:!1,data:[],error:e}}}async function C(e){try{let t=await v.Z.delete(g+"/"+e);return{state:!0,data:t,error:""}}catch(e){return{state:!1,data:[],error:e}}}let _=e=>{let{type:t,user:a,updateTable:i,roles:s,open:o,handleClose:v}=e,g=d.Ry().shape({description:d.Z_().required("Descripci\xf3n es requerida"),expirationDate:d.Z_().required("Fecha de vencimiento es requerida"),isPaid:d.O7().required("Campo requerido"),link:d.Z_().required("URL inv\xe1lida"),title:d.Z_().required("T\xedtulo es requerido")}),b={description:(null==a?void 0:a.description)||"",expirationDate:(null==a?void 0:a.expirationDate)||"",isPaid:(null==a?void 0:a.isPaid)||!1,link:(null==a?void 0:a.link)||"",title:(null==a?void 0:a.title)||""},[C,_]=(0,r.useState)(0),[k,S]=(0,r.useState)([]),[N,D]=(0,r.useState)([]),T=(0,r.useRef)(null),[P,F]=(0,r.useState)(),[R,q]=(0,r.useState)(""),A=e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&(F(a),q(URL.createObjectURL(a)))},B=()=>{var e;null===(e=T.current)||void 0===e||e.click()};(0,r.useEffect)(()=>{a&&q(a.imageUrl)},[o]);let E=async(e,n)=>{let r=null;if("view"!==t)try{if("create"===t){let t="";if(P){let e=new FormData;e.append("file",P);let{data:a,state:n,error:r}=await y(e);n&&(console.log(a),t=a.id)}r={...e,photo:t},await Z(r),(0,j.h4)("success","Se ha creado exitosamente")}"edit"===t&&(r={...e},await w(a.id,r),(0,j.h4)("success","Se ha actualizado")),i(),v()}catch(e){(0,j.h4)("error","Ha sucedido un error")}};return(0,n.jsx)("div",{children:(0,n.jsxs)(u.Z,{open:o,onClose:v,maxWidth:"sm",fullWidth:!0,children:[(0,n.jsx)(m.Z,{children:"Anuncios"}),(0,n.jsx)(c.J9,{initialValues:b,validationSchema:g,onSubmit:E,children:e=>{let{isSubmitting:a,errors:r,touched:i,handleChange:s,values:o}=e;return(0,n.jsxs)(c.l0,{children:[(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(c.gN,{as:x.Z,disabled:!1,name:"description",label:"Descripci\xf3n",fullWidth:!0,variant:"outlined",margin:"normal",helperText:i.description&&r.description?(0,n.jsx)(c.Bc,{name:"description"}):"",error:!!i.description&&!!r.description,onChange:s}),(0,n.jsx)(c.gN,{as:x.Z,disabled:!1,name:"expirationDate",label:"Fecha de vencimiento",fullWidth:!0,variant:"outlined",margin:"normal",helperText:i.expirationDate&&r.expirationDate?(0,n.jsx)(c.Bc,{name:"expirationDate"}):"",error:!!i.expirationDate&&!!r.expirationDate,onChange:s}),(0,n.jsx)(c.gN,{as:x.Z,disabled:!1,name:"link",label:"Enlace",fullWidth:!0,variant:"outlined",margin:"normal",helperText:i.link&&r.link?(0,n.jsx)(c.Bc,{name:"link"}):"",error:!!i.link&&!!r.link,onChange:s}),(0,n.jsx)(c.gN,{as:x.Z,disabled:!1,name:"title",label:"T\xedtulo",fullWidth:!0,variant:"outlined",margin:"normal",helperText:i.title&&r.title?(0,n.jsx)(c.Bc,{name:"title"}):"",error:!!i.title&&!!r.title,onChange:s}),(0,n.jsx)("input",{type:"checkbox",name:"isPaid",className:"form-check-input",id:"isPaid",onChange:s}),(0,n.jsx)("label",{htmlFor:"isPaid",children:"\xbfEs pagado?"}),(0,n.jsx)(p.ZP,{container:!0,justifyContent:"center",alignItems:"center",children:"view"!==t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.Z,{variant:"contained",onClick:B,children:[(0,n.jsx)("i",{className:"pli-file-add"}),"Subir imagen"]}),(0,n.jsx)("input",{type:"file",accept:"image/*",ref:T,style:{display:"none"},onChange:A})," "]}):null}),(0,n.jsx)(p.ZP,{container:!0,justifyContent:"center",alignItems:"center",children:R&&(0,n.jsx)("img",{src:R,width:"200vw",alt:"Preview"})})]}),(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(l.Z,{type:"button",color:"primary",children:"Cancelar"}),(0,n.jsx)(l.Z,{type:"submit",color:"primary",disabled:a,children:"Guardar"})]})]})}})]})})};var k=a(8364),S=a(5863),N=a(75071),D=a(41687);a(45472);var T=a(52627);let P=()=>{let[e,t]=(0,r.useState)([]),[a,s]=r.useState([]),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(),[h,x]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),v=()=>{d(!0)},y=()=>{d(!1)},g=async()=>{x("create"),m(null),v()},Z=async e=>{x("view"),m(e),v()},w=async e=>{x("edit"),m(e),v()},P=async e=>{let t=e.id;try{await C(t),F(),(0,j.h4)("success","Se ha eliminado")}catch(e){(0,j.h4)("success","Error al eliminar")}};(0,r.useEffect)(()=>{F()},[]);let F=async()=>{let{data:e,state:a,error:n}=await b();a?(console.log(e.data),t(e.data)):(t([]),f(n.message))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{children:(0,n.jsx)("div",{className:"content__header content__boxed overlapping",children:(0,n.jsx)("div",{className:"content__wrap",children:(0,n.jsx)("div",{className:"content__header content__boxed overlapping",children:(0,n.jsxs)("div",{className:"content__wrap",children:[(0,n.jsx)("nav",{"aria-label":"breadcrumb",children:(0,n.jsx)("ol",{className:"mb-0",style:{margin:0,padding:0},children:(0,n.jsx)("li",{className:"breadcrumb-item active font",style:{listStyle:"none"},"aria-current":"page",children:(0,n.jsx)(o.Z,{sx:{fontWeight:"bolder"},mb:1,children:"USUARIOS"})})})}),(0,n.jsx)("div",{className:"content__boxed",children:(0,n.jsx)("div",{className:"card",children:(0,n.jsx)("div",{className:"card-body flex-fill ms-md-4",children:(0,n.jsx)(T.Z,{data:e,columns:[{name:"description",label:"Descripci\xf3n"},{name:"expirationDate",label:"Fecha de t\xe9rmino"},{name:"Imagen",label:"Imagen",options:{customBodyRenderLite:t=>{let a=e[t];return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("img",{src:a.imageUrl,width:"80vw"})})}}},{name:"Acciones",Label:"Acciones",options:{customBodyRenderLite:t=>{let a=e[t];return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"d-flex gap-3",children:[(0,n.jsx)(l.Z,{variant:"text",color:"primary",onClick:()=>w(a),children:(0,n.jsx)(N.Z,{})}),(0,n.jsx)(l.Z,{variant:"text",color:"primary",onClick:()=>Z(a),children:(0,n.jsx)(S.Z,{})}),(0,n.jsx)(l.Z,{color:"error",onClick:()=>P(a),children:(0,n.jsx)(k.Z,{})})]})})}}}],buttons:(0,n.jsx)(l.Z,{variant:"contained",color:"primary",className:"ms-2",onClick:g,children:(0,n.jsx)(D.Z,{})})})})})})]})})})})}),(0,n.jsx)(_,{type:h,user:u,roles:a,updateTable:F,open:c,handleClose:y})]})};var F=(0,s.default)(P)},37663:function(e,t,a){"use strict";a.d(t,{A1:function(){return s},Im:function(){return i}});var n=a(9234);let r="/licenciatura";async function i(){try{let e=await n.Z.get(r+"/");return{state:!0,data:e.data,error:""}}catch(e){return{state:!1,data:[],error:e}}}async function s(e){try{let t=await n.Z.delete(r+"/"+e);return{state:!0,data:t,error:""}}catch(e){return{state:!1,data:[],error:e}}}},9234:function(e,t,a){"use strict";a.d(t,{D:function(){return s}});var n=a(6154),r=a(26725);let i=n.Z.create({baseURL:r.CC,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(function(e){{let t=localStorage.getItem("_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}},function(e){return console.log("error"),Promise.reject(e)});let s=n.Z.create({baseURL:r.CC,headers:{"Content-Type":"multipart/form-data"}});s.interceptors.request.use(function(e){let t=localStorage.getItem("_token");return e.headers["Content-Type"]="multipart/form-data",t&&(e.headers["Content-Type"]="multipart/form-data",e.headers.Authorization="Bearer ".concat(t)),e},function(e){return Promise.reject(e)}),t.Z=i},45472:function(e,t,a){"use strict";a.d(t,{Rd:function(){return o},fA:function(){return s},ul:function(){return l},xJ:function(){return i}});var n=a(9234);let r="/roles";async function i(){let e=await n.Z.get(r+"/");return e.data}async function s(e){let t=await n.Z.post(r+"/",e);return t.data}async function l(e,t){let a=await n.Z.put(r,t);return a.data}async function o(e){let t=await n.Z.delete(r+"/"+e);return t.data}}},function(e){e.O(0,[664,873,376,672,95,542,44,254,774,888,179],function(){return e(e.s=97382)}),_N_E=e.O()}]);